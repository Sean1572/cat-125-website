{"version":3,"sources":["components/1800.jpg","components/Redirct.js","components/Button.js","components/filesToLabel/DataLoader.js","components/filesToLabel/init.wav","components/filesToLabel/XC425555 - Screaming Piha - Lipaugus vociferans.wav","components/filesToLabel/XC552343 - Screaming Piha - Lipaugus vociferans.wav","components/filesToLabel/XC591821 - Screaming Piha - Lipaugus vociferans.wav","components/filesToLabel/XC591823 - Screaming Piha - Lipaugus vociferans.wav","components/filesToLabel/XC610236 - Screaming Piha - Lipaugus vociferans (1).wav","components/filesToLabel/610103__martian__street-building-front-door-code-beeps-door-open-close-rx.wav","components/filesToLabel/124546__cubix__waterdrop.wav","components/filesToLabel/376804__amholma__waves-up-close-2.wav","components/ImageAnnotationTool.js","components/filesToLabel/data.js","pages/game_pages/Scoring.js","pages/game_pages/gameplay.js","components/GameSettings.js","pages/game_pages/game_landing.js","pages/game_pages/Leaderboard.js","pages/Landing.js","logo.svg","pages/test.js","App.js","reportWebVitals.js","index.js"],"names":["Redirect","path","window","location","hash","Button","onClick","this","props","onclick","className","text","React","Component","data","getFiles","number","len","length","array","return_arr","i","push","console","log","insert","Math","floor","random","reactangle","require","x","y","width","height","tick","object","newRectProps","e","iat","r","document","getElementById","ctx","getContext","a","getBoundingClientRect","left","b","top","state","rect","image","drawImage","fillStyle","strokeRect","next","lineWidth","strokeStyle","rwidth","clientX","rheight","clientY","x1","y1","newRect","renderFrame","ImageAnnotationTool","filename","rHeight","rWidth","currentRect","disable_strongly","giveData","getDataCallback","addEventListener","reset","setState","detail","src","timer","clearInterval","latestRect","buttons","pop","id","style","display","onLoad","onMouseMove","mouseDown","onMouseUp","mouseUp","undo","ground_weakly","ground_strongly","Scoring","ground_truth","label","Number","localStorage","getItem","score","acc","count","item","old_labels","ground_truth_item_all","strong_data_all","annotation_count","strong_data","ground_truth_item","acc_incrment","bot","abs","start","end","round","Redirect_data","navigate","useNavigate","Gameplay","visual","wavesurfer","spectrogram","curr","curr_labels","audio","files","rect_data","WaveSurfer","create","container","scrollParent","fillParent","barHeight","barGap","waveColor","progressColor","plugins","RegionPlugin","dragSelection","slop","SpectrogramPlugin","on","error","once","getElementsByTagName","firstElementChild","position","load","un","Date","now","end_time","time","annotations","regions","list","region","clearRegions","saveLabels","scoreboard","resetImageLabeling","next_item","event","CustomEvent","image_labeling","dispatchEvent","wavesurfer_on","file","image_on","getStronglyImageData","play","annotationLabeled","GameSettings","useState","refresh","trigger_refresh","onChange","value","target","setItem","useEffect","alignContent","for","name","selected","GameStart","Leaderboard","Landing","Test","App","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.69cf9cfb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/1800.fbc4a70e.jpg\";","function Redirect(path) {\r\n    window.location.hash =  \"/cat-125-website\" + path\r\n   //console.log(\"hello\")\r\n}\r\n\r\nexport default Redirect","import React from \"react\";\r\n\r\nclass Button extends React.Component {\r\n    render() {\r\n      return  (\r\n        <button onClick={this.props.onclick} className=\"App-Button\"> \r\n            {this.props.text}\r\n        </button>\r\n      );\r\n    }\r\n}\r\n\r\nclass IconButton extends React.Component {\r\n    render() {\r\n      return  (\r\n        <button onClick={this.props.onclick} className=\"App-Button\"> \r\n            {this.props.icon}\r\n        </button>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Button ;\r\n","import soundfile2 from './XC425555 - Screaming Piha - Lipaugus vociferans.wav'\r\nimport soundfile3 from './XC552343 - Screaming Piha - Lipaugus vociferans.wav'\r\nimport soundfile4 from './XC591821 - Screaming Piha - Lipaugus vociferans.wav'\r\nimport soundfile5 from './XC591823 - Screaming Piha - Lipaugus vociferans.wav'\r\nimport soundfile6 from './XC610236 - Screaming Piha - Lipaugus vociferans (1).wav'\r\nimport soundfile7 from './610103__martian__street-building-front-door-code-beeps-door-open-close-rx.wav'\r\nimport soundfile8 from './124546__cubix__waterdrop.wav'\r\nimport soundfile9 from './376804__amholma__waves-up-close-2.wav'\r\n\r\n\r\n/**\r\n * Citations\r\n * - init.wav\r\n *    - \r\n *  \r\n * XC4255555.wav - Joshua Weiss\r\n * \r\n * XC610236.wav -  Tom OShea\r\n * \r\n * XC591823 / XC591821 - Mauricio Cuellar Ramirez (@Birding.travel)\r\n * \r\n * XC552343 - \tDante Buzzetti\r\n * \r\n * https://freesound.org/people/martian/sounds/610103/\r\n * -   610103__martian__street-building-front-door-code-beeps-door-open-close-rx.wav\r\n *\r\n * https://freesound.org/people/cubix/sounds/124546/\r\n * 124546__cubix__waterdrop\r\n * \r\n * https://freesound.org/people/amholma/sounds/376804/\r\n * 376804__amholma__waves-up-close-2\r\n * \r\n */\r\n\r\n const data = [['https://cdn.download.ams.birds.cornell.edu/api/v1/asset/173621671/1200', false],\r\n                ['https://drive.google.com/uc?id=1EPVoTfGAcgBSESSZ-AuwhRQxKmkDmSmP', false],\r\n                ['https://drive.google.com/uc?id=1tRQSHZ-d-BRw1QXj8yb33frTyb0YX2RV', false],\r\n                ['https://drive.google.com/uc?id=1JlFd8xPn8d6ntxuSYWw_qgVUddus8xaO', false],\r\n                ['https://drive.google.com/uc?id=19ihu7W0KILr0hwXL0uVUhxwFDGgaE32J', false],\r\n                ['https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072823_960_720.jpg', false],\r\n                ['https://cdn.pixabay.com/photo/2013/11/28/10/36/road-220058_960_720.jpg', false],\r\n                ['https://cdn.pixabay.com/photo/2016/11/29/04/19/ocean-1867285_960_720.jpg', false],\r\n                [soundfile2, true], [soundfile3, true],\r\n                [soundfile4, true], [soundfile5, true], [soundfile6, true],\r\n                [soundfile7, true], [soundfile8, true], [soundfile9, true]]\r\n\r\n\r\nfunction getFiles(number) {\r\n    let len = data.length\r\n    let array = []\r\n    let return_arr = []\r\n    for (let i =0; i < len; i++) {\r\n        array.push(i)\r\n    }\r\n    console.log(array, return_arr)\r\n    for (let i =0; i < number; i++) {\r\n        let insert = Math.floor(Math.random() * len)\r\n        //array = array.slice(array.indexOf(insert), array.indexOf(insert)+1)\r\n        len = array.length\r\n        return_arr.push(data[insert])\r\n        console.log(array, return_arr)\r\n    }\r\n    console.log(return_arr)\r\n    return return_arr //['https://pbs.twimg.com/profile_images/417319779943215104/gWMGH_Nx_400x400.jpeg', false], ['https://cdn.download.ams.birds.cornell.edu/api/v1/asset/173621671/1200', false]]\r\n    //return //return_arr// \r\n}\r\n\r\nexport default getFiles;","export default __webpack_public_path__ + \"static/media/init.0d5414a3.wav\";","export default __webpack_public_path__ + \"static/media/XC425555 - Screaming Piha - Lipaugus vociferans.27a597bf.wav\";","export default __webpack_public_path__ + \"static/media/XC552343 - Screaming Piha - Lipaugus vociferans.4874c647.wav\";","export default __webpack_public_path__ + \"static/media/XC591821 - Screaming Piha - Lipaugus vociferans.568ff1bc.wav\";","export default __webpack_public_path__ + \"static/media/XC591823 - Screaming Piha - Lipaugus vociferans.31cb56d5.wav\";","export default __webpack_public_path__ + \"static/media/XC610236 - Screaming Piha - Lipaugus vociferans (1).0d5414a3.wav\";","export default __webpack_public_path__ + \"static/media/610103__martian__street-building-front-door-code-beeps-door-open-close-rx.3de0e4ff.wav\";","export default __webpack_public_path__ + \"static/media/124546__cubix__waterdrop.c5bed59e.wav\";","export default __webpack_public_path__ + \"static/media/376804__amholma__waves-up-close-2.66ae3b32.wav\";","import React from \"react\";\r\nimport Button from \"./Button\";\r\nconst testimage = require(\"./1800.jpg\");\r\nclass reactangle {\r\n    constructor(props) {\r\n        this.x = props.x\r\n        this.y = props.y\r\n        this.width = props.width\r\n        this.height = props.height\r\n    } \r\n\r\n    getData() {\r\n        return [\r\n            this.x,\r\n            this.y,\r\n            this.width,\r\n            this.height\r\n    ]\r\n    }\r\n}\r\n\r\nconst renderFrame = (iat, r, e) => {\r\n    let newRect;\r\n    if (!document.getElementById(\"img_annotator\" || iat == null)) return\r\n    const ctx = document.getElementById(\"img_annotator\").getContext('2d');\r\n\r\n\r\n    const a =  document.getElementById(\"img_annotator\").getBoundingClientRect().left;\r\n    const b =  document.getElementById(\"img_annotator\").getBoundingClientRect().top;\r\n    let {height, width, rect} = iat.state;\r\n\r\n   \r\n    //ctx.fillStyle = \"white\";\r\n    //ctx.fillRect(0, 0, height, width); // clear canvas\r\n\r\n    const image = document.getElementById('source')\r\n    ctx.drawImage(image, 0, 0, height, width)\r\n    //console.log(\"render\")\r\n    ctx.fillStyle = \"red\";\r\n\r\n    ctx.strokeRect(Math.random()*(-10)+1, -2, -5, -6);\r\n    ctx.strokeRect(Math.random()*(-10)+1, -2, -5, -6);\r\n    ctx.strokeRect(Math.random()*(-10)+1, -2, -5, -6);\r\n    ctx.strokeRect(-10, -2, -5, -6);\r\n    ctx.strokeRect(-1000, -2, -5, -6);\r\n    for (let i =0; i < rect.length; i++) {\r\n        const next = rect[i]\r\n        ctx.fillStyle = \"red\";\r\n        ctx.strokeRect(next.x, next.y, next.width, next.height);\r\n    }\r\n    \r\n    //ctx.drawImage(image, 0, 0);\r\n    if (r && e != null) {\r\n        ctx.fillStyle = \"rgb(255, 0, 0, 0)\";\r\n        ctx.lineWidth = 5;\r\n        ctx.strokeStyle = \"rgb(255, 0, 0, 1)\";\r\n        const rwidth = e.clientX - a \r\n        const rheight = e.clientY - b\r\n        if (r.x1  == -1 || r.y1 == -1) {\r\n            ctx.strokeRect(rwidth, rheight, 5, 5);\r\n            //ctx.fillRect(rwidth + 5, rheight + 5, rwidth -5, rheight -5);\r\n            iat.newRect = {\r\n                x1: rwidth,\r\n                y1: rheight,\r\n                width: 5,\r\n                height: 5,\r\n            }\r\n        } else {\r\n            ctx.strokeRect(r.x1, r.y1, rwidth - r.x1, rheight - r.y1);\r\n            //ctx.fillRect(r.x + 5, r.y + 5, rwidth -5, rheight -5);\r\n            iat.newRect = {\r\n                x1: r.x1,\r\n                y1: r.y1,\r\n                width: rwidth - r.x1,\r\n                height: rheight - r.y1,\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n    \r\n  };\r\n\r\n  const tick = (object, newRectProps, e) => {\r\n     \r\n    renderFrame(object, newRectProps, e);\r\n    //requestAnimationFrame(tick(object));\r\n  };\r\n\r\nclass ImageAnnotationTool extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            filename: props.filename,\r\n            height: 500,\r\n            width: 500,\r\n            x1: -1,\r\n            y1: -1,\r\n            rHeight: -1,\r\n            rWidth: -1,\r\n            currentRect: null,\r\n            rect: [],\r\n            disable_strongly: props.disable_strongly\r\n        }\r\n        this.newRect = {\r\n            x1: -1,\r\n            y1: -1,\r\n            height: -1,\r\n            width: -1,\r\n        }\r\n        this.giveData = props.getDataCallback\r\n    }\r\n\r\n   tick() {\r\n    tick(this)\r\n   }\r\n\r\n    componentDidMount() {\r\n        const ctx = document.getElementById(\"img_annotator\")\r\n        if (ctx != null)\r\n            ctx.addEventListener('reset', e => this.reset(e), false);\r\n       //console.log(\"hello\", ctx, document.getElementById(\"img_annotator\"))\r\n        /*let timer = setInterval(function(){\r\n            // the function can do whatever you need it to\r\n           //console.log(this)\r\n            \r\n          }, 50);*/\r\n        //ctx.addEventListener(\"mouseup\", () => this.mouseDone(timer));\r\n        //ctx.addEventListener(\"mouseleave\", () =>  this.mouseDone(timer));\r\n          \r\n\r\n          \r\n        //set this to state for future use\r\n        \r\n        //window.requestAnimationFrame(this.draw(this))\r\n    }\r\n\r\n    reset(e) {\r\n        const {height, width} = this.state\r\n        this.setState({filename: e.detail, rect:[]})\r\n        const image = document.getElementById(\"source\")\r\n        image.src=e.detail\r\n\r\n       //ctx.remove()\r\n    }\r\n    \r\n    mouseDone(timer){\r\n        clearInterval(timer);         // Cancel the previously initiated timer function\r\n       //console.log(\"Mouse is up or outside of box!\");  // And, do whatever else you need to\r\n        const {x1, y1, height, width} = this.newRect\r\n        const latestRect = new reactangle({x: x1, y: y1, height: height, width: width})\r\n        this.state.rect.push(latestRect)  \r\n        \r\n    }\r\n\r\n    mouseDown(e) {\r\n        const {disable_strongly} = this.state\r\n        if (disable_strongly) {\r\n            return;\r\n        }\r\n        const ctx = document.getElementById(\"img_annotator\");\r\n        const {x1, y1, height, width} = this.newRect\r\n        let us = this\r\n        if (e.buttons > 0) {\r\n            tick(us, us.newRect, e)  \r\n        }\r\n        \r\n    }\r\n\r\n    mouseUp() {\r\n        const {disable_strongly} = this.state\r\n        if (disable_strongly) {\r\n            return;\r\n        }\r\n       //console.log(\"hello\")\r\n        const {x1, y1, height, width} = this.newRect\r\n        const latestRect = new reactangle({x: x1, y: y1, height: height, width: width})\r\n        this.state.rect.push(latestRect)\r\n        this.newRect = {\r\n            x1: -1,\r\n            y1: -1,\r\n            height: -1,\r\n            width: -1,\r\n        }\r\n        this.giveData(this.state.rect)\r\n    }\r\n\r\n    undo(e) {\r\n        this.state.rect.pop()\r\n        tick(this, this.newRect, null)  \r\n    }\r\n\r\n    render() {\r\n    \r\n    const{filename, height, width, x} = this.state\r\n   \r\n    if (filename != null) {\r\n        return  (\r\n            <div >\r\n                <div id=\"img_storage\" style={{display:\"none\"}}>\r\n                      <img id=\"source\"\r\n                          src={filename}\r\n                          width={width}\r\n                          height={height}\r\n                          onLoad={() => tick(this, this.newRect, null)}\r\n                      />\r\n                  </div>\r\n                    <canvas id=\"img_annotator\" \r\n                          onMouseMove={e => this.mouseDown(e)} \r\n                          onMouseUp={e => this.mouseUp(e)} \r\n                          width={width} \r\n                          height={height}>\r\n                  </canvas>\r\n                  <div>\r\n                  <Button onclick={e => this.undo(e)} text=\"undo\" />\r\n                  </div>\r\n            </div>\r\n         \r\n        );\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n      \r\n}\r\nexport default ImageAnnotationTool;","const ground_weakly = {\r\n    \"https://cdn.download.ams.birds.cornell.edu/api/v1/asset/173621671/1200\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 2365\r\n    },\r\n    \"https://drive.google.com/uc?id=1EPVoTfGAcgBSESSZ-AuwhRQxKmkDmSmP\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 1704\r\n    },\r\n    \"https://drive.google.com/uc?id=1tRQSHZ-d-BRw1QXj8yb33frTyb0YX2RV\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 1576\r\n    },\r\n    \"https://drive.google.com/uc?id=1JlFd8xPn8d6ntxuSYWw_qgVUddus8xaO\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 1608\r\n    },\r\n    \"https://drive.google.com/uc?id=19ihu7W0KILr0hwXL0uVUhxwFDGgaE32J\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 2440\r\n    },\r\n    \"https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072823_960_720.jpg\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 1256\r\n    },\r\n    \"https://cdn.pixabay.com/photo/2013/11/28/10/36/road-220058_960_720.jpg\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 912\r\n    },\r\n    \"https://cdn.pixabay.com/photo/2016/11/29/04/19/ocean-1867285_960_720.jpg\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 1024\r\n    },\r\n    \"/cat-125-website/static/media/XC425555 - Screaming Piha - Lipaugus vociferans.27a597bf.wav\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 2119\r\n    },\r\n    \"/cat-125-website/static/media/XC552343 - Screaming Piha - Lipaugus vociferans.4874c647.wav\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 943\r\n    },\r\n    \"/cat-125-website/static/media/XC591821 - Screaming Piha - Lipaugus vociferans.568ff1bc.wav\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 911\r\n    },\r\n    \"/cat-125-website/static/media/XC591823 - Screaming Piha - Lipaugus vociferans.31cb56d5.wav\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 817\r\n    },\r\n    \"/cat-125-website/static/media/XC610236 - Screaming Piha - Lipaugus vociferans (1).0d5414a3.wav\": {\r\n        \"data\": \"bird\",\r\n        \"time\": 1069\r\n    },\r\n    \"/cat-125-website/static/media/610103__martian__street-building-front-door-code-beeps-door-open-close-rx.3de0e4ff.wav\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 1183\r\n    },\r\n    \"/cat-125-website/static/media/124546__cubix__waterdrop.c5bed59e.wav\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 863\r\n    },\r\n    \"/cat-125-website/static/media/376804__amholma__waves-up-close-2.66ae3b32.wav\": {\r\n        \"data\": \"no bird\",\r\n        \"time\": 1079\r\n    }\r\n}\r\n\r\n\r\nconst ground_strongly = \r\n{\r\n\r\n        \"https://cdn.download.ams.birds.cornell.edu/api/v1/asset/173621671/1200\": {\r\n            \"time\": 3944,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 8.11111068725586,\r\n                    \"end\": 492.11111068725586,\r\n                    \"top\": 468.8367919921875,\r\n                    \"bot\": 32.8367919921875\r\n                }\r\n            },\r\n            \"count\": 1\r\n        },\r\n        \"https://drive.google.com/uc?id=1EPVoTfGAcgBSESSZ-AuwhRQxKmkDmSmP\": {\r\n            \"time\": 4720,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 208.11111068725586,\r\n                    \"end\": 376.11111068725586,\r\n                    \"top\": 166.8367919921875,\r\n                    \"bot\": 353.8367919921875\r\n                }\r\n            },\r\n            \"count\": 1\r\n        },\r\n        \"https://drive.google.com/uc?id=1tRQSHZ-d-BRw1QXj8yb33frTyb0YX2RV\": {\r\n            \"time\": 5800,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 131.11111068725586,\r\n                    \"end\": 276.11111068725586,\r\n                    \"top\": 109.8367919921875,\r\n                    \"bot\": 438.8367919921875\r\n                }\r\n            },\r\n            \"count\": 1\r\n        },\r\n        \"https://drive.google.com/uc?id=1JlFd8xPn8d6ntxuSYWw_qgVUddus8xaO\": {\r\n            \"time\": 3944,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 91.11111068725586,\r\n                    \"end\": 483.11111068725586,\r\n                    \"top\": 40.8367919921875,\r\n                    \"bot\": 498.8367919921875\r\n                }\r\n            },\r\n            \"count\": 1\r\n        },\r\n        \"https://drive.google.com/uc?id=19ihu7W0KILr0hwXL0uVUhxwFDGgaE32J\": {\r\n            \"time\": 4144,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 246.11111068725586,\r\n                    \"end\": 418.11111068725586,\r\n                    \"top\": 164.8367919921875,\r\n                    \"bot\": 299.8367919921875\r\n                }\r\n            },\r\n            \"count\": 1\r\n        },\r\n        \"https://cdn.pixabay.com/photo/2015/12/01/20/28/road-1072823_960_720.jpg\": {\r\n            \"time\": 1328,\r\n            \"data\": {}\r\n        },\r\n        \"https://cdn.pixabay.com/photo/2013/11/28/10/36/road-220058_960_720.jpg\": {\r\n            \"time\": 632,\r\n            \"data\": {}\r\n        },\r\n        \"https://cdn.pixabay.com/photo/2016/11/29/04/19/ocean-1867285_960_720.jpg\": {\r\n            \"time\": 672,\r\n            \"data\": {}\r\n        },\r\n        \"/cat-125-website/static/media/XC425555 - Screaming Piha - Lipaugus vociferans.27a597bf.wav\": {\r\n            \"time\": 4375,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 0.3570068207657768,\r\n                    \"end\": 2.9111823780906176\r\n                },\r\n                \"1\": {\r\n                    \"start\": 12.749488239140774,\r\n                    \"end\": 15.704318785849903\r\n                }\r\n            },\r\n            \"count\": 2\r\n        },\r\n        \"/cat-125-website/static/media/XC552343 - Screaming Piha - Lipaugus vociferans.4874c647.wav\": {\r\n            \"time\": 9623,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 0.7330056532859802,\r\n                    \"end\": 1.311791069952647\r\n                },\r\n                \"1\": {\r\n                    \"start\": 1.9660702366193137,\r\n                    \"end\": 2.4945264866193138\r\n                },\r\n                \"2\": {\r\n                    \"start\": 2.947488986619314,\r\n                    \"end\": 3.475945236619314\r\n                },\r\n                \"3\": {\r\n                    \"start\": 3.7024264866193137,\r\n                    \"end\": 4.180553569952647\r\n                },\r\n                \"4\": {\r\n                    \"start\": 4.532857736619313,\r\n                    \"end\": 5.036149403285981\r\n                },\r\n                \"5\": {\r\n                    \"start\": 5.614934819952648,\r\n                    \"end\": 6.042732736619314\r\n                },\r\n                \"6\": {\r\n                    \"start\": 6.646682736619313,\r\n                    \"end\": 7.250632736619314\r\n                }\r\n            },\r\n            \"count\": 7\r\n        },\r\n        \"/cat-125-website/static/media/XC591821 - Screaming Piha - Lipaugus vociferans.568ff1bc.wav\": {\r\n            \"time\": 5126,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 0.8299736621761322,\r\n                    \"end\": 1.1873280371761321\r\n                },\r\n                \"1\": {\r\n                    \"start\": 2.146542412176132,\r\n                    \"end\": 2.485088662176132\r\n                },\r\n                \"2\": {\r\n                    \"start\": 3.1621811621761324,\r\n                    \"end\": 5.061801787176132\r\n                }\r\n            },\r\n            \"count\": 3\r\n        },\r\n        \"/cat-125-website/static/media/XC591823 - Screaming Piha - Lipaugus vociferans.31cb56d5.wav\": {\r\n            \"time\": 3582,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 1.5984195710606044,\r\n                    \"end\": 1.7999105432828266\r\n                },\r\n                \"1\": {\r\n                    \"start\": 2.481879987727271,\r\n                    \"end\": 4.372795265505049\r\n                }\r\n            },\r\n            \"count\": 2\r\n        },\r\n        \"/cat-125-website/static/media/XC610236 - Screaming Piha - Lipaugus vociferans (1).0d5414a3.wav\": {\r\n            \"time\": 4502,\r\n            \"data\": {\r\n                \"0\": {\r\n                    \"start\": 1.7854549202473957,\r\n                    \"end\": 2.379268253580729\r\n                },\r\n                \"1\": {\r\n                    \"start\": 3.160601586914062,\r\n                    \"end\": 5.442094920247396\r\n                },\r\n                \"2\": {\r\n                    \"start\": 6.785988253580729,\r\n                    \"end\": 8.254894920247395\r\n                }\r\n            },\r\n            \"count\": 3\r\n        },\r\n        \"/cat-125-website/static/media/610103__martian__street-building-front-door-code-beeps-door-open-close-rx.3de0e4ff.wav\": {\r\n            \"time\": 679,\r\n            \"data\": {}\r\n        },\r\n        \"/cat-125-website/static/media/124546__cubix__waterdrop.c5bed59e.wav\": {\r\n            \"time\": 455,\r\n            \"data\": {}\r\n        },\r\n        \"/cat-125-website/static/media/376804__amholma__waves-up-close-2.66ae3b32.wav\": {\r\n            \"time\": 695,\r\n            \"data\": {}\r\n        }\r\n}\r\n\r\nexport {ground_strongly, ground_weakly}\r\n    \r\n\r\n\r\n","import WaveSurfer from 'wavesurfer.js';\r\nimport {ground_strongly, ground_weakly} from '../../components/filesToLabel/data.js'\r\nimport {useLocation} from 'react-router-dom';\r\nimport Redirect from '../../components/Redirct';\r\n//yes this is bad code but I just need this for this one project\r\nimport Button from '../../components/Button.js';\r\n\r\n\r\n\r\n\r\nfunction Scoring(props) {\r\n    let threshold = 5;\r\n    let ground_truth = {}\r\n    const label = Number(localStorage.getItem('label'));\r\n    if (label != 1) {\r\n      ground_truth = ground_strongly;\r\n    } else {\r\n      ground_truth = ground_weakly;\r\n    }\r\n  \r\n   //console.log(props)\r\n    let score = 0\r\n    let acc = 0\r\n    let count = 0\r\n    console.log(props.old_labels)\r\n    for(const item in props.old_labels) {\r\n        count++;\r\n        const data = props.old_labels[item]\r\n        const ground_truth_item_all = ground_truth[item][\"data\"]\r\n        if (label == 1) {\r\n            score = data[\"data\"] == ground_truth_item_all ? score + 1 : score\r\n            acc = data[\"data\"] == ground_truth_item_all ? acc + 100 : acc\r\n        }\r\n        else if (label != 1){\r\n          if (data == null || data[\"data\"] == null) {\r\n            if (ground_truth[item] == null || ground_truth_item_all[item][\"data\"] == null) {\r\n                score += 1\r\n                acc += 100\r\n            }\r\n          } else {\r\n           //console.log(data[\"data\"])\r\n            const strong_data_all = data[\"data\"]\r\n            const annotation_count = data[\"count\"]\r\n            if (ground_truth[item][\"count\"] == null || annotation_count == null) {\r\n              if (ground_truth[item][\"count\"] == null && annotation_count == null) {\r\n                score++\r\n                acc += 100\r\n                continue;\r\n              }\r\n            }\r\n            if ( ground_truth[item][\"count\"] != null) {\r\n              count--;\r\n              count += ground_truth[item][\"count\"];\r\n            }\r\n            for(let i = 0; i < annotation_count; i++) {\r\n              if (i > ground_truth[item][\"count\"]) break;\r\n                const strong_data = strong_data_all[i]\r\n                const ground_truth_item = ground_truth_item_all[i]\r\n                let acc_incrment = 50\r\n                if (strong_data.bot != null && strong_data.top != null) {\r\n                  console.log( ground_truth[item], strong_data, ground_truth_item)\r\n                  console.log(strong_data.bot, strong_data.top, ground_truth_item.bot, ground_truth_item.top)\r\n                  acc_incrment = 25\r\n                  if (Math.abs(strong_data.top - ground_truth_item.top)  < threshold) {\r\n                    score += 1\r\n                      acc += acc_incrment\r\n                  }\r\n                      \r\n                  if (Math.abs(strong_data.bot - ground_truth_item.bot)  < threshold) {\r\n                    score += 1\r\n                    acc += acc_incrment\r\n                  }\r\n                }\r\n                if (Math.abs(strong_data.start - ground_truth_item.start)  < threshold) {\r\n                  score += 1\r\n                    acc += acc_incrment\r\n                }\r\n                    \r\n                if (Math.abs(strong_data.end - ground_truth_item.end)  < threshold) {\r\n                  score += 1\r\n                  acc += acc_incrment\r\n                }\r\n              }\r\n            }\r\n            \r\n          \r\n                \r\n        }\r\n\r\n        //score -= data[\"time\"] / 500\r\n        if (score < 0) {\r\n          score = 0\r\n        }\r\n    }\r\n   \r\n   //console.log(Math.round(score), acc/count)\r\n\r\n    console.log(count)\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <p>\r\n        YOU SCORED  \r\n        </p>\r\n        <p>\r\n          {score} points with {Math.round(acc/count)}% accuracy\r\n          \r\n        </p>\r\n        Do you want to play again? \r\n        <Button \r\n            onclick={() => Redirect(\"/annotate_start\")}\r\n            text={\"Click Here to return to the game start page\"}\r\n            />\r\n\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Scoring;\r\n","//BIG TODO: ADD IMAGE SUPPORT\r\n\r\nimport React from 'react';\r\nimport WaveSurfer from 'wavesurfer.js';\r\nimport RegionPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\r\nimport SpectrogramPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.spectrogram.min.js';\r\nimport {Redirect} from '../../components/Redirct';\r\nimport Button from '../../components/Button';\r\nimport soundfile from '../../components/filesToLabel/init.wav'\r\nimport getFiles from '../../components/filesToLabel/DataLoader';\r\nimport ImageAnnotationTool from '../../components/ImageAnnotationTool';\r\nimport { useNavigate  } from \"react-router-dom\";\r\nimport Scoring from './Scoring';\r\n\r\nfunction Redirect_data  (path, data) {\r\n    const navigate = useNavigate();\r\n    const handleClick = () => {\r\n       //console.log(typeof( data))\r\n       //console.log(path, data)\r\n       //console.log(JSON.stringify(data))\r\n        navigate('/annotate_Scoring',{state : {data: data}});\r\n  }\r\n        \r\n        //{\"state\": data})\r\n        //navigate(path, data);\r\n    return (\r\n          <div\r\n            id=\"redirect\"\r\n            onClick={()=>handleClick()}\r\n          >\r\n          </div>\r\n    )\r\n  }\r\n\r\nclass Gameplay extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        \r\n        const label = Number(localStorage.getItem('label'));\r\n        const visual = Number(localStorage.getItem('visual'));\r\n       //console.log(visual)\r\n        this.state = {\r\n            wavesurfer: null,\r\n            spectrogram: visual == 1,\r\n            label,\r\n            curr: 0,\r\n            curr_labels: null,\r\n            old_labels:  {\r\n\r\n            },\r\n            audio: true,\r\n            files: null,\r\n            rect_data: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        //this.resetImageLabeling()\r\n        const {spectrogram, label} = this.state\r\n       //console.log(spectrogram)\r\n       //console.log(\"start render\")\r\n        //start a timer\r\n        let audio = true;\r\n        if (spectrogram && label != 1) {\r\n           //console.log(\"regions enabled\")\r\n            var wavesurfer = WaveSurfer.create({\r\n                container: '#waveform',\r\n                scrollParent: true,\r\n                fillParent : true,\r\n                height: 256,\r\n                barHeight: 0,\r\n                barGap: 100000000,\r\n                waveColor: \"rgba(0,0,0,0)\",\r\n                progressColor:\"rgba(0,0,0,0)\",\r\n                plugins: [\r\n                    RegionPlugin.create({ dragSelection: {\r\n                        slop: 5\r\n                    }}),\r\n                    SpectrogramPlugin.create({\r\n                        wavesurfer: wavesurfer,\r\n                        container: '#spectrogram',\r\n                        scrollParent: true,\r\n\r\n                    })\r\n                ]\r\n\r\n            });\r\n            wavesurfer.on(\"error\", error => console.log(error))\r\n           \r\n           //console.log(\"async creation started\")\r\n            wavesurfer.once('ready', () => {\r\n                //fix spectrogram sync issues\r\n               //console.log(\"ready success 2\")\r\n                const table = document.getElementById('forecast-table')\r\n                const canvas = document.getElementsByTagName(\"spectrogram\")[0].firstElementChild               \r\n                canvas.style.position = \"relative\"\r\n               //console.log(\"ready success 2\")\r\n               //console.log(document.getElementById(\"waveform\"))\r\n               //console.log(\"ready success 2\")\r\n                const wave_canvas = document.getElementById(\"waveform\").firstElementChild\r\n                wave_canvas.style.display = \"block\"\r\n               //console.log(document.getElementById(\"waveform\"))\r\n            });\r\n        }\r\n        else if (label != 1) {\r\n            var wavesurfer = WaveSurfer.create({\r\n                container: '#waveform',\r\n                scrollParent: true,\r\n                fillParent : true,\r\n                height: 256,\r\n                plugins: [\r\n                    RegionPlugin.create({ dragSelection: {\r\n                        slop: 5\r\n                    }}),\r\n                ]\r\n\r\n            });\r\n        } else if (label == 1 && spectrogram) {\r\n            var wavesurfer = WaveSurfer.create({\r\n                container: '#waveform',\r\n                scrollParent: true,\r\n                fillParent : true,\r\n                height: 256,\r\n                barHeight: 0,\r\n                barGap: 100000000,\r\n                waveColor: \"rgba(0,0,0,0)\",\r\n                progressColor:\"rgba(0,0,0,0)\",\r\n                plugins: [\r\n                    SpectrogramPlugin.create({\r\n                        wavesurfer: wavesurfer,\r\n                        container: '#spectrogram',\r\n                        scrollParent: true,\r\n\r\n                    })\r\n                ]\r\n\r\n            });\r\n            wavesurfer.on(\"error\", error => console.log(error))\r\n           \r\n           //console.log(\"async creation started\")\r\n            wavesurfer.once('ready', () => {\r\n                const table = document.getElementById('forecast-table')\r\n                const canvas = document.getElementsByTagName(\"spectrogram\")[0].firstElementChild               \r\n                canvas.style.position = \"relative\"\r\n                const wave_canvas = document.getElementById(\"waveform\").firstElementChild\r\n                wave_canvas.style.display = \"block\"\r\n            });\r\n        } else {\r\n            var wavesurfer = WaveSurfer.create({\r\n                container: '#waveform',\r\n                scrollParent: true,\r\n                fillParent : true,\r\n                height: 256,\r\n            });\r\n        }\r\n\r\n        let files = getFiles(3);\r\n\r\n\r\n        if (files[0][1]) {\r\n            wavesurfer.load(files[0][0]);\r\n        } else {\r\n            audio = false;\r\n        }\r\n        \r\n        wavesurfer.un('play', () => {\r\n           //console.log(\"play success\")\r\n           \r\n            \r\n        });\r\n        \r\n        const start = Date.now();\r\n        this.setState({wavesurfer, files, start, audio})\r\n    }\r\n\r\n    getStronglyImageData(data) {\r\n       //console.log(data)\r\n        this.setState({rect_data: data})\r\n\r\n    }\r\n\r\n    annotationLabeled(text) {\r\n        let {curr_labels} = this.state;\r\n        if (text != null) {\r\n            curr_labels = text\r\n        } \r\n        this.setState({curr_labels})\r\n    }\r\n\r\n    saveLabels(end_time) {\r\n        let {curr, files, start, curr_labels, wavesurfer, rect_data} = this.state;\r\n        if (curr > 0) {\r\n            curr--;\r\n        }\r\n        const time = end_time - start\r\n        let {old_labels} = this.state;\r\n        if (curr_labels != null) {\r\n            old_labels[files[curr][0]] = { //\r\n                \"data\": curr_labels,\r\n                time: time\r\n            }\r\n        } else if (files[curr][1]) {\r\n            old_labels[files[curr][0]] = {\r\n                time: time\r\n            }\r\n            const annotations = wavesurfer.regions.list;\r\n            let count = 0;\r\n            old_labels[files[curr][0]][\"data\"] = {}\r\n            for (let region in annotations) {\r\n                region = annotations[region]\r\n               //console.log(wavesurfer.regions.list)\r\n               \r\n                old_labels[files[curr][0]][\"data\"][count] = { \r\n                        start: region.start,\r\n                        end: region.end\r\n                }\r\n                count++;\r\n                old_labels[files[curr][0]][\"count\"] = count;\r\n            }\r\n            wavesurfer.clearRegions() \r\n        } else {\r\n            old_labels[files[curr][0]] = {\r\n                time: time\r\n            }\r\n            old_labels[files[curr][0]][\"data\"] = {}\r\n            for (let i = 0; i < rect_data.length; i++) { \r\n                let rect = rect_data[i]\r\n                \r\n                old_labels[files[curr][0]][\"data\"][i] = {\r\n                        start: rect.x,\r\n                        end: rect.width + rect.x,\r\n                        top: rect.y,\r\n                        bot: rect.height + rect.y\r\n                }    \r\n            }\r\n            old_labels[files[curr][0]][\"count\"] = rect_data.length;\r\n           //console.log(old_labels[files[curr][0]])\r\n        }\r\n       //console.log(old_labels)\r\n        this.setState({old_labels})\r\n    }\r\n\r\n\r\n\r\n    next() {\r\n        \r\n        const end = Date.now();\r\n        let {curr} = this.state\r\n        if (curr == 0) {\r\n            curr = 1;\r\n        }\r\n\r\n        const {wavesurfer, files, curr_labels, label, old_labels} = this.state;\r\n        \r\n        if (curr_labels == null && label == 1) {\r\n            return;\r\n        }\r\n        let audio = false;\r\n        this.saveLabels(end);\r\n        if (curr >= files.length) {\r\n            this.setState({scoreboard: true})\r\n        }\r\n        else if (files[curr][1]) {\r\n            wavesurfer.load(files[curr][0]);\r\n            audio = true;\r\n        } else {\r\n            audio = false;\r\n            this.resetImageLabeling(files[curr][0])\r\n        }\r\n        \r\n        const next_item = curr + 1;\r\n        const start = Date.now();\r\n       //console.log(next_item)\r\n        this.setState({start, curr: next_item, curr_labels: null, audio: audio, rect_data: {}})\r\n        \r\n    }\r\n\r\n    resetImageLabeling(data) {\r\n        const event = new CustomEvent('reset', { detail: data });\r\n        const image_labeling  =  document.getElementById(\"img_annotator\")\r\n       //console.log(image_labeling)\r\n        if (image_labeling) {\r\n            image_labeling.dispatchEvent(event);\r\n        }\r\n    }\r\n\r\n    render() { \r\n        const {wavesurfer, label, old_labels, scoreboard, curr, files} = this.state\r\n        let {audio} = this.state\r\n        \r\n            \r\n        {console.log(old_labels)}\r\n        \r\n        let wavesurfer_on = audio? 'block' :'none'\r\n        console.log(\"audio now is\", wavesurfer_on)\r\n        \r\n        let file = null\r\n        if (files != null && curr < files.length) {\r\n            \r\n            file = files[curr][0]\r\n           //console.log(files[curr][0])\r\n        } else if (files != null && curr - 1 < files.length) {\r\n            file = files[curr-1][0]\r\n            wavesurfer_on = files[curr-1][1]? 'block' :'none'\r\n        }\r\n\r\n        if (files != null && curr < files.length)  {\r\n            console.log(\"audio now is\", wavesurfer_on, files[curr])\r\n        } else {\r\n            console.log(files)\r\n        }\r\n\r\n        let image_on = !audio\r\n\r\n       //console.log(\"image on?\", audio)\r\n\r\n        return(\r\n            <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                    { scoreboard?  <div>\r\n                    \r\n                    <Scoring old_labels={old_labels}/>\r\n                    </div> :\r\n                    <div className=\"App-header\">\r\n                        <p>\r\n                        {label != 1 ?  \"Click and Drag to Create Regions Over Birds!\" : \"Click the buttons below if you see or hear a Bird!\"}\r\n                        </p>\r\n                    \r\n                    \r\n                        <script src=\"https://unpkg.com/wavesurfer.js\"></script>\r\n                        <script src=\"https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.regions.min.js\"></script>\r\n                        \r\n                        <div id=\"waveform\" className=\"waveform\" style={{\"display\": wavesurfer_on}}></div>\r\n                        <div id=\"spectrogram\" className=\"spectrogram_div\" style={{\"display\": wavesurfer_on}}></div>\r\n                        {image_on ? \r\n                        <ImageAnnotationTool filename={file}\r\n                            getDataCallback={data => this.getStronglyImageData(data)}\r\n                            disable_strongly={label == 1}\r\n                        /> :  <Button \r\n                        onclick={() => wavesurfer.play()}\r\n                        text={\"Play\"}\r\n                        /> }\r\n\r\n                        \r\n                       \r\n                        <div style={{\"height\": \"10px\"}} />\r\n                        {label == 1 ? \r\n                            <div> \r\n                                <Button \r\n                                    onclick={() => this.annotationLabeled(\"bird\")}\r\n                                    text={\"Bird\"}\r\n                                />\r\n                                <Button \r\n                                    onclick={() =>  this.annotationLabeled(\"no bird\")}\r\n                                    text={\"No Bird\"}\r\n                                />\r\n                            </div> : null\r\n                        }\r\n\r\n                        <Button \r\n                        onclick={() => this.next()}\r\n                        text={\"Next\"}\r\n                        />\r\n                    </div>\r\n                    \r\n                    }\r\n                    <Redirect_data path=\"/annotate_Scoring\" data={old_labels}/>\r\n            </header>\r\n            </div>\r\n        );\r\n    } \r\n}\r\n\r\nexport default Gameplay;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nfunction GameSettings() {\r\n    const [refresh, trigger_refresh] = useState(false)\r\n    const label = localStorage.getItem('label');\r\n    const visual = localStorage.getItem('visual');\r\n    useEffect(() => {\r\n        const label = localStorage.getItem('label');\r\n        const visual = localStorage.getItem('visual');\r\n        if (label == null) {\r\n            localStorage.setItem('label', 1);\r\n        }\r\n        if (visual == null) {\r\n            localStorage.setItem('visual', 0);\r\n        }\r\n    })\r\n\r\n    function onChange(e) {\r\n      trigger_refresh(!refresh)\r\n      //console.log(e.target)\r\n       const value = Number(e.target.value);\r\n      //console.log(value)\r\n       const id = e.target.id\r\n       localStorage.setItem(id, value);\r\n       \r\n   }\r\n   console.log(label == 2)\r\n  return (\r\n      <div style={{alignContent: \"center\"}}>\r\n        <p>Game Settings</p>\r\n        <label for=\"label\">Weakly / Strongly</label>\r\n        <div style={{height: \"0px\" }}/>\r\n        <select onChange={e => onChange(e)} name=\"label\" id=\"label\" >\r\n          <option value={1} selected={label == 1}>Weakly</option>\r\n          <option value={2} selected={label == 2}>Strongly</option>\r\n         \r\n        </select>\r\n        <div style={{height: \"20px\" }}/>\r\n        <div style={{height: \"0px\" }}/>\r\n        <label for=\"label\">Spectrogram / Waveform</label>\r\n        <div style={{height: \"5px\" }}/>\r\n        <select onChange={e => onChange(e)} name=\"visual\" id=\"visual\" >\r\n          <option value={0} selected={visual == 0}>Waveform</option>\r\n          <option value={1} selected={visual == 1}>Spectrogram</option>\r\n        </select>\r\n\r\n        <p>Currently enabled:</p>\r\n        <p>\r\n            {label == 1? \"Weakly Labeling \": \"Strongly Labeling \"}\r\n            {visual == 0? \"Waveform \": \"Spectrogram \"}\r\n        \r\n        </p>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default GameSettings;\r\n","import WaveSurfer from 'wavesurfer.js';\r\nimport Redirect from '../../components/Redirct';\r\nimport Button from '../../components/Button';\r\nimport GameSettings from '../../components/GameSettings';\r\nimport { useEffect } from 'react';\r\nfunction GameStart() {\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <p>\r\n         Be sure to check out the tutorial above before playing!\r\n        </p>\r\n        <p>\r\n         Remember: It is reccomened to use Chrome!\r\n        </p>\r\n          <GameSettings />\r\n          <Button \r\n            onclick={() => Redirect(\"/annotate\")}\r\n            text={\"Click Here to Start Annotating\"}\r\n            />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameStart;\r\n","import WaveSurfer from 'wavesurfer.js';\r\n\r\nimport {useLocation} from 'react-router-dom';\r\nfunction Leaderboard() {\r\n //console.log(useLocation())\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <p>\r\n          Leaderboard is here\r\n        </p>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Leaderboard;\r\n"," import Button from \"../components/Button\";\r\n import Redirect from \"../components/Redirct\";\r\n function gameLoad() {\r\n    Redirect(\"/annotate_start\")\r\n }\r\n\r\n  function Landing() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <p>\r\n            Ready to start your citizen science career?\r\n          </p>\r\n          <Button \r\n            onclick={() => gameLoad()}\r\n            text={\"Click here to Start!\"}\r\n            />\r\n        \r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Landing;\r\n  ","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import WaveSurfer from 'wavesurfer.js';\r\nimport Redirect from '../components/Redirct';\r\nimport Button from '../components/Button';\r\nimport ImageAnnotationTool from '../components/ImageAnnotationTool';\r\n\r\n\r\n\r\n\r\nfunction Test() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n      <ImageAnnotationTool filename={'https://cdn.download.ams.birds.cornell.edu/api/v1/asset/173621671/1200'}\r\n        getDataCallback={data => console.log (data)}\r\n      />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Test;\r\n","import {\n  Gameplay,\n  GameStart,\n  Leaderboard , Scoring\n}from './pages/game_pages/game_index'\nimport {\n  Landing\n} from './pages/index.js'\nimport logo from './logo.svg';\nimport { \n  HashRouter as Router,\n    Routes ,\n    Route\n  } from 'react-router-dom';\nimport './App.css';\n\n\n\n/**\n * TODO: Might replace this with a better heiarchical system\n * \n */\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <script src=\"https://unpkg.com/wavesurfer.js\"></script>\n      <script src=\"https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.regions.min.js\"></script>\n      {/* Path for game */}\n      <Router>\n        <Routes >\n          <Route path=\"/cat-125-website\" element={<Landing/>}/>\n          <Route path=\"/cat-125-website/localhost\" element={<Landing/>}/>\n          <Route path=\"/\" element={<Landing/>}/>\n          <Route path=\"/cat-125-website/annotate\" element={<Gameplay/>}/>\n          <Route path=\"/cat-125-website/annotate_start\" element={<GameStart/>}/>\n          <Route path=\"/cat-125-website/annotate_LeaderBoard\" element={<Leaderboard/>}/>\n          <Route path=\"/cat-125-website/annotate_scoring\" element={<Scoring/>}/>\n        </Routes >\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}